<!DOCTYPE html>
<html>
  <head>
    <title>if constexpr (C++17)</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="stylesheet.en.css"/>
    <!--
    <meta name="keywords" content="KW1, KW2, KW3"/>

    <meta name="author" content="AUTHOR"/>
    <meta name="description" content="A_DESCRIPTION"/>
    <meta name="FIELD_NAME" content="FIELD_VALUE"/>
    -->
  </head>
  <body lang="en" class="computing">
    <nav>
      <div>
        <p><a rel="prev" href="cpp.preprocessor.html">The C/C++ Preprocessor</a></p>
        <p><a            href="cpp.html">The C++ Programming Language</a></p>
      </div>
    </nav>

    <main>
      <h1>Conditional Compilation with <code>if constexpr</code> (C++17)</h1>
      <p style="text-align: right">(From <a href="https://mariusbancila.ro/blog/">Marius Bancila&apos;s Blog</a>)</p>
      <p>This is a feature of the <a href="cpp.preprocessor.html">preprocessor</a> that selects whether to include or not a chunk of code in the final text file that will be passed to the compiler. Preprocessor conditional directives can check arithmetic expressions or whether a name is defined as a macro.</p>
      <p>In the following example, a message is written to the standard output stream when the program is compiled using a debug configuration and the <code>_DEBUG</code> macro is defined.</p>
      <pre>#define TRACE(x) std::cout &lt;&lt; x &lt;&lt; std::endl

int main()
{
#ifdef _DEBUG
   TRACE(&quot;debug build&quot;);
#endif
}</pre>

      <p>In C++17 this can be replaced with constexpr if as shown in the following example:</p>
      <pre>#include &lt;string_view&gt;

inline void trace(std::string_view text)
{
   std::cout &lt;&lt; text &lt;&lt; std::endl;
}

int main()
{
   if constexpr(_DEBUG)
      trace(&quot;debug build&quot;);
}</pre>

    </main>

  </body>

</html>
